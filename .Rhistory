library(deSolve)
install.packages("deSolve")
library(deSolve)
setwd("Desktop/School/research/gender/gender/")
library(dplyr)
library(tidyverse)
data_loc <- "data/processed/data.xlsx"
gender <- read.table(data_loc, header=TRUE, sep=",")
gender <- read.table(data_loc, header=TRUE)
library(dplyr)
library(tidyverse)
data_loc <- "data/processed/data.csv"
gender <- read.table(data_loc, header=TRUE)
data_loc <- "data/processed/data.csv"
gender <- read.table(data_loc, header=TRUE, sep=",")
data_loc <- "data/processed/data.csv"
gender <- read.table(data_loc, header=TRUE)
library(dplyr)
library(tidyverse)
data_loc <- "data/processed/data.csv"
gender <- read.table(data_loc, header=TRUE, sep=",")
View(gender)
View(gender)
gender <- gender[seq(1,6)]
View(gender)
gender %>%
group_by(POSITION)
gender %>%
group_by(POSITION) %>%
summarise(GENDER)
gender %>%
group_by(POSITION) %>%
summarise()
gender %>%
group_by(POSITION) %>%
distinct()
gender %>%
distrinct(POSITION)
gender %>%
distinct(POSITION)
unique(gender$POSITION)
unique(gender$SCHOOL)
data_loc <- "data/processed/data.xlsx"
gender <- read.table(data_loc, header=TRUE, sep=",")
data_loc <- "data/processed/data.csv"
gender <- read.csv2(data_loc, header=TRUE, sep=",")
View(gender)
gender <- gender[seq(1,6)]
dim(gender)
posi <- gender$POSITION
posi[4000:4200]
length("2")
length(unique(gender$POSITION))
gender $>$
distinct(POSITION)
library(dplyr)
library(tidyverse)
gender %>%
distinct(POSITION)
gender %>%
group_by(POSITION) %>%
summarise(GENDER)
gender $>$
distinct(POSITION)
gender %>%
distinct(POSITION)
data_loc <- "data/processed/data.csv"
gender <- read.csv2(data_loc, header=TRUE, sep=",")
gender <- gender[seq(1,6)]
gender %>%
group_by(POSITION) %>%
summarise(GENDER)
gender %>%
distinct(POSITION)
gender %>%
group_by(POSITION) %>%
summarise(n=n())
mutate(female_per = n/sum(n) )
gender %>%
group_by(POSITION, GENDER) %>%
summarise(N=n()) %>%
;
gender %>%
group_by(POSITION, GENDER) %>%
summarise(N=n())
str_trim("dfadf  dfadf")
?str_trim
str_squash("dfda adfadf")
str_squish("dafda adf  adfa")
gsub(" ", "", "dafdaf   asdf sd")
g <- apply(gender$GENDER, gsub, " ", "")
g <- fapply(gender$GENDER, gsub, " ", "")
g <- sapply(gender$GENDER, gsub, " ", "")
?apply
?gsub
g <- sapply(gender$GENDER, gsub, pattern=" ", replacement="")
gender$GENDER <- sapply(gender$GENDER, gsub, pattern=" ", replacement="")
gender $>$
distinct(GENDER)
gender %>%
distinct(GENDER)
gender %>%
group_by(POSITION, GENDER) %>%
summarise(N=n())
gender %>%
group_by(POSITION, GENDER) %>%
summarise(N=n()) %>%
group_by(GENDER) %>%
summarise(f_per <- n()/N)
gender %>%
group_by(POSITION, GENDER) %>%
summarise(N=n())
gender %>%
group_by(POSITION, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n))
rplace <- list("ASSISTANT DEAN":1, "DEAN":2)
rplace <- list("ASSISTANT DEAN":"1", "DEAN":"2")
rplace <- list("ASSISTANT DEAN"=1, "DEAN"=2)
rplace("ASSISTANT DEAN")
rplace["ASSISTANT DEAN"]
gender %>%
distinct(POSITION)
rplace <- list("PRESIDENT/CHANCELLOR"=1, "VP/VICE CHANCELLOR"= 2, "OTHER" = 3,
"DEAN" = 4, "ASSOCIATE DEAN" = 5, "ASSISTANT DEAN"= 6)
rplace <- list("PRESIDENT/CHANCELLOR"=1, "VP/VICE CHANCELLOR"= 2, "OTHER" = 3,
"DEAN" = 4, "ASSOCIATE DEAN" = 5, "ASSISTANT DEAN"= 6)
a <- sapply(gender$POSITION, function(x){return(rplace[x])})
View(a)
a <- apply(gender$POSITION, function(x){return(rplace[x])})
a <- lapply(gender$POSITION, function(x){return(rplace[x])})
View(a)
a <- sapply(gender$POSITION, function(x){return(rplace[x])})
a <- unlist(a)
a
rplace[["DEAN"]]
a <- sapply(gender$POSITION, function(x){return(rplace[[x]])})
a <- sapply(gender$POSITION, function(x){return(rplace[[x]])})
a[2]
a[[2]]
a <- sapply(gender$POSITION, function(x){return(rplace[[x]])})
unlist(a)
a <- sapply(gender$POSITION, function(x){return(as.numerics(rplace[[x]]))})
a <- sapply(gender$POSITION, function(x){return(as.numeric(rplace[[x]]))})
a <- sapply(gender$POSITION, function(x){return(rplace[[x]])})
a <- apply(gender$POSITION, FUN=function(x){return(rplace[[x]])})
a <- mapply(gender$POSITION, FUN=function(x){return(rplace[[x]])})
a <- sapply(gender$POSITION, FUN=function(x){return(rplace[[x]])})
unlist(a)
a<-unlist(a)
a <- names(a)
a[names(a)]
unname(a)
a <- sapply(gender$POSITION, FUN=function(x){return(rplace[[x]])})
a <-unname(a)
a[1,10]
dim(a)
a[2]
gender$TIER <- unname(sapply(gender$POSITION, FUN=function(x){return(rplace[[x]])}))
View(gender)
gender %>%
group_by(POSITION, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n))
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n))
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
ggplot(aes(x=TIER, y=f_per))+
geom_line()
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
select(GENDER="F")
ggplot(aes(x=TIER, y=f_per))+
geom_line()
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
select(GENDER="F") %>%
ggplot(aes(x=TIER, y=f_per))+
geom_line()
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
select(GENDER=="F") %>%
ggplot(aes(x=TIER, y=f_per))+
geom_line()
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
select(GENDER=="F")
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n))
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
select(GENDER== "M")
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
select(TIER== 1)
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
select(GENDER== 1)
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
fgf
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n))
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
group_by(GENDER)
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
ungroup()
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
ungroup() %>%
select(GENDER="F")
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
ungroup() %>%
select(GENDER=="F")
gender %>%
select(GENDER)
gender %>%
select(GENDER == "F")
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
filter(GENDER == "F")
gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
filter(GENDER == "F") %>%
ggplot(aes(x=TIER, y=f_per))+
geom_line()
gender_processed <- gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
filter(GENDER == "F")
gender_processed
f_percent <- gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
filter(GENDER == "F")
View(f_percent)
### Analysis
f_percent <- gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
filter(GENDER == "F")
ggplot(f_percent, aes(x=TIER, y=f_per))+
geom_line()
install.library("brms")
install.packages()
install.packages("brms")
library(brms)
fit <- brms(f_per ~ TIER, data=f_percent, family=cumulative)
fit <- brm(f_per ~ TIER, data=f_percent, family=cumulative)
fit <- brm(f_per ~ TIER, data=f_percent, family=cumulative())
fit <- brm(f_per ~ TIER, data=f_percent, family=cumulative(link="probit"))
devtools::install_github("paul-buerkner/brms")
library(brms)
fit <- brm(f_per ~ TIER, data=f_percent, family=cumulative(link="probit"))
fit <- brm(f_percent$f_per ~ f_percent$TIER, family=cumulative(link="probit"))
fit <- brm(f_percent$f_per ~ f_percent$TIER, family=gaussian)
fit <- brm(f_percent$f_per ~ f_percent$TIER, family="gaussian")
f_percent$f_per
f_percent$TIER
fit <- brm(f_percent$f_per ~ f_percent$TIER)
install.packages("brms")
install.packages("brms")
library(brms)
fit <- brm(f_percent$f_per ~ f_percent$TIER)
fit <- brm(f_per ~ TIER, data=f_percent)
fit
fit <- brm(f_per ~ TIER, data=f_percent, family=cumulative(link="probit"))
fit <- brm(f_per ~ TIER, data=f_percent, family=cumulative(link="logit"))
fit <- glm(f_per ~ TIER, data = f_percent, family=binomial)
f_percent <- gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
filter(GENDER == "F")
### Analysis ###
f_percent <- gender %>%
group_by(POSITION, TIER, GENDER) %>%
summarise(n=n()) %>%
mutate(f_per = n/sum(n)) %>%
filter(GENDER == "F")
library(dplyr)
library(tidyverse)
library(brms)
library(dplyr)
library(tidyverse)
library(brms)
